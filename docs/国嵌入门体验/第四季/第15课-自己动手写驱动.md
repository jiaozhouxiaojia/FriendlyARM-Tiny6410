<!-- TOC depthFrom:1 depthTo:6 withLinks:1 updateOnSave:1 orderedList:0 -->

- [第15课-自己动手写驱动](#第15课-自己动手写驱动)
	- [课程索引](#课程索引)
	- [设备描述结构cdev](#设备描述结构cdev)
		- [驱动模型](#驱动模型)
		- [设备驱动描述结构](#设备驱动描述结构)
		- [操作函数集](#操作函数集)
	- [字符设备驱动模型](#字符设备驱动模型)
	- [范例驱动分析](#范例驱动分析)
		- [设备操作原型](#设备操作原型)
		- [struct file](#struct-file)
		- [struct inode](#struct-inode)
		- [open](#open)
		- [release](#release)
		- [read](#read)
		- [write](#write)
		- [驱动注销](#驱动注销)
	- [总结](#总结)

<!-- /TOC -->

# 第15课-自己动手写驱动

## 课程索引

![1526712072538.png](image/1526712072538.png)


## 设备描述结构cdev

![1526712120649.png](image/1526712120649.png)

### 驱动模型

![1526712133669.png](image/1526712133669.png)

![1526712141352.png](image/1526712141352.png)

### 设备驱动描述结构

![1526712155405.png](image/1526712155405.png)

![1526712161801.png](image/1526712161801.png)

![1526712169625.png](image/1526712169625.png)

![1526712176506.png](image/1526712176506.png)

![1526712188961.png](image/1526712188961.png)

![1526712197307.png](image/1526712197307.png)

![1526712202914.png](image/1526712202914.png)

### 操作函数集

![1526712217288.png](image/1526712217288.png)

![1526712225489.png](image/1526712225489.png)



## 字符设备驱动模型

![1526712238833.png](image/1526712238833.png)

![1526712245159.png](image/1526712245159.png)

![1526712251633.png](image/1526712251633.png)

![1526712256617.png](image/1526712256617.png)

![1526712265329.png](image/1526712265329.png)

![1526712270415.png](image/1526712270415.png)



## 范例驱动分析

### 设备操作原型

![1526712314114.png](image/1526712314114.png)

![1526712320201.png](image/1526712320201.png)

### struct file

![1526712330898.png](image/1526712330898.png)

### struct inode

![1526712347426.png](image/1526712347426.png)

### open

![1526712358145.png](image/1526712358145.png)

### release

![1526712367720.png](image/1526712367720.png)

### read

![1526712380748.png](image/1526712380748.png)

![1526712389096.png](image/1526712389096.png)

![1526712395105.png](image/1526712395105.png)

### write

![1526712402985.png](image/1526712402985.png)

### 驱动注销

![1526712413367.png](image/1526712413367.png)

![1526712420226.png](image/1526712420226.png)



## 总结
