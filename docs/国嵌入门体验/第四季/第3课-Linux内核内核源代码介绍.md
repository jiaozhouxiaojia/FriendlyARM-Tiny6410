<!-- TOC depthFrom:1 depthTo:6 withLinks:1 updateOnSave:1 orderedList:0 -->

- [第3课-Linux内核内核源代码介绍](#第3课-linux内核内核源代码介绍)
	- [课程索引](#课程索引)
	- [如何获取Linux源代码](#如何获取linux源代码)
	- [内核目录结构](#内核目录结构)
		- [arch - 体系结构相关](#arch-体系结构相关)
		- [documentation、drivers、include](#documentationdriversinclude)
		- [fs - 文件系统](#fs-文件系统)
		- [net - 网络协议栈](#net-网络协议栈)
	- [代码工程管理 - 使用SourceInsight管理代码工程](#代码工程管理-使用sourceinsight管理代码工程)
	- [总结](#总结)

<!-- /TOC -->

# 第3课-Linux内核内核源代码介绍

## 课程索引

![1526452764951.png](image/1526452764951.png)


Linux内核官方网站

https://www.kernel.org/

## 如何获取Linux源代码

![1526452810247.png](image/1526452810247.png)

![1526452908945.png](image/1526452908945.png)

      不可以在Windows直接解压。因为Windows不区分大小写，而Linux区分，文件解压会出现已经包含同名文件。

## 内核目录结构

      把相同或相近的文件放到同一个目录下

![1526452970079.png](image/1526452970079.png)

![1526453166612.png](image/1526453166612.png)

![1526453218435.png](image/1526453218435.png)

      介绍几个很重要的目录

### arch - 体系结构相关

      一部分是处理器相关的代码
      一部分是开发板相关的代码

![1526452978110.png](image/1526452978110.png)

![1526453287170.png](image/1526453287170.png)

      arch子目录有包含很多个体系结构的子目录。
      每个架构子目录有区分平台通用代码和平台特殊代码(march-开头，诸如mach-s3c2440)

![1526453360310.png](image/1526453360310.png)

![1526453455708.png](image/1526453455708.png)

![1526452983837.png](image/1526452983837.png)

### documentation、drivers、include

      文档 - 代码如何使用
      驱动 - 硬件驱动
      头文件 - 所有头文件单独成立一个大的目录，其下有很多个子目录

![1526452989670.png](image/1526452989670.png)

![1526453679355.png](image/1526453679355.png)

### fs - 文件系统

![1526452995571.png](image/1526452995571.png)

![1526453723416.png](image/1526453723416.png)



### net - 网络协议栈

      每一个子目录就是一个协议的实现
      典型的IPv4、IPv6
      2.3M	ipv4
      1.3M	ipv6

![1526453001012.png](image/1526453001012.png)

![1526453749952.png](image/1526453749952.png)

## 代码工程管理 - 使用SourceInsight管理代码工程

![1526522273430.png](image/1526522273430.png)

![1526522286906.png](image/1526522286906.png)

![1526522295929.png](image/1526522295929.png)

![1526522326965.png](image/1526522326965.png)

![1526522354684.png](image/1526522354684.png)

			必须勾选递归，不然只有顶层目录

![1526522373432.png](image/1526522373432.png)

![1526522536473.png](image/1526522536473.png)

			汇编程序需要单独添加，默认只有.C和.H的文件
			修改配置，然后重新递归搜索工程

![1526522547040.png](image/1526522547040.png)

![1526522565144.png](image/1526522565144.png)

![1526522570079.png](image/1526522570079.png)

![1526522584394.png](image/1526522584394.png)

			** 去掉不必要的代码，其他平台。ARCH目录移除

![1526522856025.png](image/1526522856025.png)

			代码同步。符号同步，建立符号库

![1526522997515.png](image/1526522997515.png)

![1526523002887.png](image/1526523002887.png)

			自动切换到定义处

![1526523067154.png](image/1526523067154.png)

![1526523084969.png](image/1526523084969.png)





## 总结
