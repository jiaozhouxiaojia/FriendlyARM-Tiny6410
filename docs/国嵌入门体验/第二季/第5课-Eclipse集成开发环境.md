# 第5课-Eclipse集成开发环境

## 为什么要用到集成开发环境？

裸机开发过程中，程序的编写和运行结果不一致的时候肯定要进行调试，为了解决调试问题。
在线调试是Eclipse非常有用的功能。它还集成了编译的功能。它既可以编译也可以调试。
所以叫集成开发环境。

![1526195892423.png](image/1526195892423.png)

      两个硬件
          Jtag接口
          Jlink线
      三个软件
          Eclipse集成开发环境
          GDB Server
          Jlink软件
      Eclipse使用Gdb Server，通过Jlink调试开发板

## 准备工作-1 格式化NandFlash

![1526196158512.png](image/1526196158512.png)

![1526196244166.png](image/1526196244166.png)

      NandFlash格式化，避免造成干扰

## 准备工作2-硬件连接

![1526196361789.png](image/1526196361789.png)

      没有这个调试器，尴尬~~淘宝买买买买~~

## 安装Gdb Server

![1526196807768.png](image/1526196807768.png)

![1526196764373.png](image/1526196764373.png)

![1526196972825.png](image/1526196972825.png)

      还有依赖错误，自行解决。编译好的程序放在opt下/opt/arm-linux-gdb/
      添加到环境变量 ~/.bashrc
      更具版本需要，工具链中也有gdb，选哪个，那个放在最前。环境变量是根据路径匹配第一个。
      直接就可以运行arm-linux-gdb

![1526200424439.png](image/1526200424439.png)

## 安装Jlink

![1526200824935.png](image/1526200824935.png)

![1526200870482.png](image/1526200870482.png)

![1526200962134.png](image/1526200962134.png)

      Jlink引入虚拟机，运行JLinkGDBServer，运行顺利的话

![1526200988782.png](image/1526200988782.png)

## 安装Eclipse

      绿色古董版Eclipse

![1526201665777.png](image/1526201665777.png)

![1526201686573.png](image/1526201686573.png)

![1526201721064.png](image/1526201721064.png)

      第一次启动会突然莫名其妙JJ掉，不怕，再启动一次就OK了

![1526201777809.png](image/1526201777809.png)

### Eclipse安装CDT插件

      首先保证网络正常

![1526201825552.png](image/1526201825552.png)

![1526201846114.png](image/1526201846114.png)

![1526201858343.png](image/1526201858343.png)

![1526201928361.png](image/1526201928361.png)

![1526201960343.png](image/1526201960343.png)

![1526201982519.png](image/1526201982519.png)

![1526201989432.png](image/1526201989432.png)

## 开发环境测试

      先建立一个目录

![1526202099283.png](image/1526202099283.png)

![1526202115359.png](image/1526202115359.png)


![1526202144464.png](image/1526202144464.png)

![1526202132965.png](image/1526202132965.png)

![1526202185888.png](image/1526202185888.png)

![1526202195891.png](image/1526202195891.png)

![1526202216304.png](image/1526202216304.png)

      Eclipse也是调用工程中的Makefile进行编译。
      还需要配置调试

![1526202254935.png](image/1526202254935.png)

      选中要调试的程序

![1526202279574.png](image/1526202279574.png)

![1526202333866.png](image/1526202333866.png)

      初始化命令

![1526202993359.png](image/1526202993359.png)

![1526203178736.png](image/1526203178736.png)

![1526203192469.png](image/1526203192469.png)

![1526203201348.png](image/1526203201348.png)

![1526203274292.png](image/1526203274292.png)

![1526203306258.png](image/1526203306258.png)

      改成十六进制显示


![1526203368251.png](image/1526203368251.png)
